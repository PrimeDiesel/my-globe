<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Interactive 3D Globe â€” WITH COUNTRIES & LABELS</title>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      overflow: hidden;
      background: #000;
    }
    #globeViz {
      width: 100vw;
      height: 100vh;
    }
    #infoPanel {
      position: absolute;
      top: 20px;
      left: 20px;
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.3);
      max-width: 320px;
      font-family: system-ui;
      display: none;
      z-index: 1000;
    }
  </style>
</head>
<body>
  <div id="globeViz"></div>
  <div id="infoPanel">
    <h3>ğŸŒ <span id="countryName">Country</span></h3>
    <p><strong>é¦–éƒ½:</strong> <span id="capital">â€”</span></p>
    <p><strong>è¯­è¨€:</strong> <span id="language">â€”</span></p>
    <p><strong>æ–‡åŒ–:</strong> <span id="culture">â€”</span></p>
    <button onclick="resetView()" style="margin-top: 16px; padding: 8px 16px; background: #0066ff; color: white; border: none; border-radius: 6px; cursor: pointer;">é‡ç½®è§†è§’</button>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/three@0.159.0/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/globe.gl@2.35.0/dist/globe.gl.min.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const globe = Globe()(document.getElementById('globeViz'));

      // Realistic Earth texture
      globe.globeMaterial(new THREE.MeshPhongMaterial({
        map: new THREE.TextureLoader().load('https://cdn.jsdelivr.net/npm/three-globe/example/img/earth-blue-marble.jpg'),
        bumpMap: new THREE.TextureLoader().load('https://cdn.jsdelivr.net/npm/three-globe/example/img/earth-topology.png'),
        bumpScale: 0.3,
        specularMap: new THREE.TextureLoader().load('https://cdn.jsdelivr.net/npm/three-globe/example/img/earth-specular.gif'),
        shininess: 10
      }));

      globe.backgroundImageUrl('https://cdn.jsdelivr.net/npm/three-globe/example/img/night-sky.png');
      globe.showAtmosphere(true).atmosphereColor('#88ccff').atmosphereAltitude(0.12);

      // Auto-rotation
      globe.controls().autoRotate = true;
      globe.controls().autoRotateSpeed = 0.5;

      // Disable auto-rotate on interaction
      globe.controls().addEventListener('start', () => {
        globe.controls().autoRotate = false;
      });

      // Country data with positions
      const countries = [
        { name: "ç¾å›½", code: "USA", lat: 39.8, lng: -98.6, capital: "åç››é¡¿", language: "è‹±è¯­", culture: "ç§‘æŠ€ã€è‡ªç”±ã€å¤šå…ƒ" },
        { name: "ä¸­å›½", code: "CHN", lat: 35.9, lng: 104.2, capital: "åŒ—äº¬", language: "ä¸­æ–‡", culture: "å†å²ã€ç¾é£Ÿã€ä¼ ç»Ÿ" },
        { name: "æ—¥æœ¬", code: "JPN", lat: 36.2, lng: 138.3, capital: "ä¸œäº¬", language: "æ—¥è¯­", culture: "åŠ¨æ¼«ã€ç¤¼ä»ªã€æŠ€æœ¯" },
        { name: "æ³•å›½", code: "FRA", lat: 46.6, lng: 2.0, capital: "å·´é»", language: "æ³•è¯­", culture: "è‰ºæœ¯ã€æµªæ¼«ã€ç¾é£Ÿ" },
        { name: "å·´è¥¿", code: "BRA", lat: -14.2, lng: -51.9, capital: "å·´è¥¿åˆ©äºš", language: "è‘¡è„ç‰™è¯­", culture: "è¶³çƒã€ç‹‚æ¬¢èŠ‚ã€è‡ªç„¶" },
        { name: "åŸƒåŠ", code: "EGY", lat: 26.8, lng: 30.8, capital: "å¼€ç½—", language: "é˜¿æ‹‰ä¼¯è¯­", culture: "é‡‘å­—å¡”ã€å°¼ç½—æ²³ã€æ³•è€" },
        { name: "å°åº¦", code: "IND", lat: 20.6, lng: 79.0, capital: "æ–°å¾·é‡Œ", language: "å°åœ°è¯­", culture: "ç‘œä¼½ã€å®è±åã€é¦™æ–™" },
        { name: "ä¿„ç½—æ–¯", code: "RUS", lat: 61.5, lng: 105.3, capital: "è«æ–¯ç§‘", language: "ä¿„è¯­", culture: "èŠ­è•¾ã€ä¼ç‰¹åŠ ã€å¥—å¨ƒ" },
        { name: "æ¾³å¤§åˆ©äºš", code: "AUS", lat: -25.3, lng: 133.8, capital: "å ªåŸ¹æ‹‰", language: "è‹±è¯­", culture: "è¢‹é¼ ã€å†²æµªã€å¤§å ¡ç¤" },
        { name: "åŠ æ‹¿å¤§", code: "CAN", lat: 56.1, lng: -106.3, capital: "æ¸¥å¤ªå", language: "è‹±è¯­/æ³•è¯­", culture: "æ«å¶ã€å†°çƒã€è‡ªç„¶" }
      ];

      // Add country labels
      globe.labelsData(countries)
        .labelLat(d => d.lat)
        .labelLng(d => d.lng)
        .labelText(d => d.name)
        .labelSize(1.5)
        .labelColor(() => '#ffffff')
        .labelResolution(6)
        .labelAltitude(0.05)
        .labelDotRadius(0.3)
        .labelDotOrientation(() => 'top')
        .onLabelClick((label) => {
          // Zoom to country
          globe.controls().autoRotate = false;
          globe.pointOfView(
            { lat: label.lat, lng: label.lng, altitude: 0.5 },
            2000 // ms animation
          );

          // Show info panel
          document.getElementById('countryName').textContent = label.name;
          document.getElementById('capital').textContent = label.capital;
          document.getElementById('language').textContent = label.language;
          document.getElementById('culture').textContent = label.culture;
          document.getElementById('infoPanel').style.display = 'block';
        });

      // Reset view function
      window.resetView = function() {
        globe.pointOfView(
          { lat: 0, lng: 0, altitude: 2.5 },
          2000
        );
        setTimeout(() => {
          globe.controls().autoRotate = true;
        }, 2000);
        document.getElementById('infoPanel').style.display = 'none';
      };

      // Initial view
      globe.pointOfView({ lat: 0, lng: 0, altitude: 2.5 });
    });
  </script>
</body>
</html>
